{
  "version": 3,
  "sources": [
    "react.es5.js"
  ],
  "names": [
    "AUmainNavMenu",
    "items",
    "linkComponent",
    "GenerateMenu",
    "menu",
    "map",
    "link",
    "item",
    "active",
    "text",
    "li",
    "className",
    "propTypes",
    "PropTypes",
    "arrayOf",
    "shape",
    "string",
    "node",
    "isRequired",
    "children",
    "array",
    "oneOfType",
    "func",
    "defaultProps",
    "IDvalue",
    "AUmainNavContent",
    "props",
    "onOpen",
    "afterOpen",
    "onClose",
    "afterClose",
    "attributeOptions",
    "toggleClasses",
    "bind",
    "removeClass",
    "addClass",
    "mainNavToggle",
    "toggle",
    "toggleAnimationState",
    "setState",
    "animating",
    "state",
    "auFocusTrapListenerTop",
    "auFocusTrapListenerBottom",
    "auKeyListener",
    "closed",
    "id",
    "event",
    "preventDefault",
    "prevProps",
    "prevState",
    "undefined",
    "mainNavContent",
    "speed",
    "element",
    "openingClass",
    "closingClass",
    "oldClass",
    "newClass",
    "classList",
    "remove",
    "replace",
    "RegExp",
    "split",
    "join",
    "add",
    "focusContent",
    "mainNavMenu",
    "querySelectorAll",
    "length",
    "focus",
    "overlayOpen",
    "window",
    "getComputedStyle",
    "mainNavOverlay",
    "getPropertyValue",
    "keyCode",
    "callbacks",
    "cancelBubble",
    "stopPropagation",
    "error",
    "overlay",
    "closeButton",
    "querySelector",
    "openButton",
    "focustrapTop",
    "focustrapBottom",
    "menuWidth",
    "offsetWidth",
    "ToggleClasses",
    "AUkeyListener",
    "AUfocusTrapListenerTop",
    "AUfocusTrapListenerBottom",
    "ToggleAnimationState",
    "style",
    "display",
    "AU",
    "animate",
    "Toggle",
    "property",
    "openSize",
    "closeSize",
    "prefunction",
    "left",
    "opacity",
    "postfunction",
    "setAttribute",
    "addEventListener",
    "document",
    "removeAttribute",
    "removeEventListener",
    "body",
    "React",
    "PureComponent",
    "dark",
    "bool",
    "alt",
    "number",
    "AUmainNav",
    "ariaLabel"
  ],
  "mappings": "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",
  "file": "react.es5.js",
  "sourcesContent": [
    "/*! @gov.au/main-nav v1.0.3 */\n/***************************************************************************************************************************************************************\n *\n * mainNav function\n *\n * Horizontal list of links to key areas on the website. Usually located in the header.\n *\n **************************************************************************************************************************************************************/\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport AU from '@gov.au/animate'; // interdependency with our animate lib\n\n\nimport AUlinkList from '@gov.au/link-list';\n// ES6 dependency: import AUlinkList from './link-list';\n\n\n// The following line will be replaced automatically with generic imports for the ES5 pipeline.\n// You can safely ignore this bit if you use this module with pancake\n//\nimport '../css/styles.css';\n\n\n/**\n * A menu inside the AUmainNav\n *\n * @param  {array}  items            - The links in an array containing text, location and active status\n * @param  {string} linkComponent    - The component used for the link\n */\nconst AUmainNavMenu = ({ items, linkComponent }) => {\n\t// Generate the menu\n\tconst GenerateMenu = ( items ) => {\n\t\tconst menu = items.map( item => {\n\t\t\tconst link =  item.active ? {\n\t\t\t\tlink: item.link,\n\t\t\t\ttext: item.text,\n\t\t\t\t'aria-current': 'page',\n\t\t\t\tli: {\n\t\t\t\t\tclassName: 'active',\n\t\t\t\t},\n\t\t\t} :\n\t\t\t{\n\t\t\t\tlink: item.link,\n\t\t\t\ttext: item.text,\n\t\t\t};\n\n\t\t\t// return the link, maybe with children\n\t\t\treturn link;\n\t\t});\n\n\t\treturn menu;\n\t}\n\n\t// Create the menu with children\n\treturn (\n\t\t<AUlinkList items={ GenerateMenu( items ) } linkComponent={ linkComponent } />\n\t);\n}\n\n\nAUmainNavMenu.propTypes = {\n\titems: PropTypes.arrayOf(\n\t\tPropTypes.shape({\n\t\t\tlink: PropTypes.string,\n\t\t\ttext: PropTypes.node.isRequired,\n\t\t\tchildren: PropTypes.array,\n\t\t})\n\t).isRequired,\n\tlinkComponent: PropTypes.oneOfType([ PropTypes.string, PropTypes.func ]),\n};\n\nAUmainNavMenu.defaultProps = {\n\tlinkComponent: 'a',\n};\n\n\n// This value gets increased for each navigation component\nlet IDvalue = 0;\n\n\nexport class AUmainNavContent extends React.PureComponent {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tconst {\n\t\t\titems,\n\t\t\tclassName = '',\n\t\t\tchildren,\n\t\t\tlinkComponent,\n\t\t\tonOpen,\n\t\t\tafterOpen,\n\t\t\tonClose,\n\t\t\tafterClose,\n\t\t\t...attributeOptions\n\t\t} = props;\n\n\t\t// Functions\n\t\tthis.toggleClasses        = this.toggleClasses.bind( this );\n\t\tthis.removeClass          = this.removeClass.bind( this );\n\t\tthis.addClass             = this.addClass.bind( this );\n\t\tthis.mainNavToggle        = this.mainNavToggle.bind( this );\n\t\tthis.toggle               = this.toggle.bind( this );\n\t\tthis.toggleAnimationState = function() {\n\t\t\tthis.setState({ animating: !this.state.animating } )\n\t\t}.bind( this );\n\n\n\t\t// Event listeners\n\t\tthis.auFocusTrapListenerTop    = this.auFocusTrapListenerTop.bind( this );\n\t\tthis.auFocusTrapListenerBottom = this.auFocusTrapListenerBottom.bind( this );\n\t\tthis.auKeyListener             = this.auKeyListener.bind( this );\n\n\n\t\t// Variables\n\t\tthis.state = {\n\t\t\tclosed: true,\n\t\t\tanimating: false,\n\t\t};\n\n\n\t\t// Increase the ID so it's unique for each instance\n\t\tIDvalue += 1;\n\t\tthis.id = `au-main-nav-${ IDvalue }`;\n\t}\n\n\n\t/**\n\t * Toggle an main navigation on click\n\t *\n\t * @param  {event object} event - The event object of the click\n\t */\n\ttoggle( event ) {\n\t\tevent.preventDefault();\n\n\t\t// If the main menu is animating don't change toggle the menu\n\t\tif( this.state.animating ){\n\t\t\treturn;\n\t\t}\n\n\t\t// Toggle the menu's current state\n\t\tthis.setState({\n\t\t\tclosed: !this.state.closed,\n\t\t\tanimating: true,\n\t\t});\n\t}\n\n\n\t/**\n\t * componentDidUpdate - Update the component when it changes\n\t *\n\t * @param {*} prevProps - The previous property values\n\t * @param {*} prevState - The previous state values\n\t */\n\tcomponentDidUpdate( prevProps, prevState ){\n\t\tif( prevState !== undefined && this.state !== undefined && this.state.closed !== prevState.closed ) {\n\t\t\tthis.mainNavToggle( this.mainNavContent, this.props.speed, {\n\t\t\t\tonOpen: this.props.onOpen,\n\t\t\t\tafterOpen: this.props.afterOpen,\n\t\t\t\tonClose: this.props.onClose,\n\t\t\t\tafterClose: this.props.afterClose,\n\t\t\t});\n\t\t}\n\t}\n\n\n\t/**\n\t * IE8 compatible function for replacing classes on a DOM node\n\t *\n\t * @param  {object} element       - The DOM element we want to toggle classes on\n\t * @param  {string} openingClass  - The firstClass you want to toggle on the DOM node\n\t * @param  {string} closingClass  - The secondClass you want to toggle on the DOM node\n\t */\n\ttoggleClasses( element, state, openingClass, closingClass ) {\n\t\tif( state === 'opening' || state === 'open' ) {\n\t\t\tvar oldClass = openingClass || 'au-main-nav__content--closed';\n\t\t\tvar newClass = closingClass || 'au-main-nav__content--open';\n\t\t}\n\t\telse {\n\t\t\tvar oldClass = closingClass || 'au-main-nav__content--open';\n\t\t\tvar newClass = openingClass || 'au-main-nav__content--closed';\n\t\t}\n\n\t\tthis.removeClass( element, oldClass );\n\t\tthis.addClass( element, newClass );\n\t}\n\n\n\t/**\n\t * IE8 compatible function for removing a class\n\t *\n\t * @param  {object} element   - The DOM element we want to manipulate\n\t * @param  {object} className - The name of the class to be removed\n\t */\n\tremoveClass( element, className ) {\n\t\tif( element.classList ) {\n\t\t\telement.classList.remove( className );\n\t\t}\n\t\telse {\n\t\t\telement.className = element.className.replace( new RegExp(\"(^|\\\\b)\" + className.split(\" \").join(\"|\") + \"(\\\\b|$)\", \"gi\"), \" \" );\n\t\t}\n\t}\n\n\n\t/**\n\t * IE8 compatible function for adding a class\n\t *\n\t * @param  {object} element   - The DOM element we want to manipulate\n\t * @param  {object} className - The name of the class to be added\n\t */\n\taddClass( element, className ) {\n\t\tif( element.classList ) {\n\t\t\telement.classList.add( className );\n\t\t}\n\t\telse {\n\t\t\telement.className = element.className + \" \" + className;\n\t\t}\n\t}\n\n\n\t/**\n\t * auFocusTrapListenerTop - What happens when the focus trap top gets focus\n\t *\n\t * @param {event} event - the event\n\t */\n\tauFocusTrapListenerTop( event ) {\n\t\tvar focusContent = this.mainNavMenu.querySelectorAll( 'a, .au-main-nav__toggle' );\n\t\tfocusContent[ focusContent.length - 1 ].focus();\n\t}\n\n\n\t/**\n\t * auFocusTrapListenerBottom - What happens when the focus trap bottom gets focus\n\t *\n\t * @param {event} event - the event\n\t */\n\tauFocusTrapListenerBottom( event ) {\n\t\tvar focusContent = this.mainNavMenu.querySelectorAll( 'a, .au-main-nav__toggle' );\n\t\tfocusContent[ 0 ].focus();\n\t}\n\n\n\t/**\n\t * auKeyListener - What happens when a key gets pressed and the menu is open\n\t *\n\t * @param {event} event - the event\n\t */\n\tauKeyListener( event ) {\n\t\t// This should only close the menu when the menu is visibly open\n\t\tvar overlayOpen = window.getComputedStyle( this.mainNavOverlay ).getPropertyValue( 'display' );\n\n\t\t// Check the menu is open and visible and the escape key is pressed\n\t\tif( event.keyCode === 27 && overlayOpen === 'block' ) {\n\t\t\tthis.toggle( event );\n\t\t}\n\t}\n\n\n\t/**\n\t * Toggle a mainNav element\n\t *\n\t * @param  {string}  element  - The toggle for the main nav\n\t * @param  {integer} speed    - The speed in ms for the animation\n\t *\n\t */\n\tmainNavToggle( element, speed, callbacks ) {\n\t\t// stop event propagation\n\t\ttry {\n\t\t\twindow.event.cancelBubble = true;\n\t\t\tevent.stopPropagation();\n\t\t}\n\t\tcatch( error ) {}\n\n\t\t// check this once\n\t\tif( typeof callbacks != 'object' ) {\n\t\t\tcallbacks = {};\n\t\t}\n\n\n\t\t// Elements we modify\n\t\tvar menu            = this.mainNavMenu;\n\t\tvar overlay         = this.mainNavOverlay;\n\t\tvar closeButton     = element.querySelector( '.au-main-nav__toggle--close' );\n\t\tvar openButton      = element.querySelector( '.au-main-nav__toggle--open' );\n\t\tvar focustrapTop    = element.querySelector( '.au-main-nav__focus-trap-top' );\n\t\tvar focustrapBottom = element.querySelector( '.au-main-nav__focus-trap-bottom' );\n\n\t\tvar closed          = !this.state.closed;\n\t\tvar state           = closed ? 'opening' : '';\n\t\tvar menuWidth       = menu.offsetWidth;\n\n\n\t\t// Functions\n\t\tvar ToggleClasses             = this.toggleClasses;\n\t\tvar AUkeyListener             = this.auKeyListener;\n\t\tvar AUfocusTrapListenerTop    = this.auFocusTrapListenerTop;\n\t\tvar AUfocusTrapListenerBottom = this.auFocusTrapListenerBottom;\n\t\tvar ToggleAnimationState      = this.toggleAnimationState;\n\n\n\t\toverlay.style.display = 'block';\n\n\n\t\t(function( menu ) {\n\t\t\tAU.animate.Toggle({\n\t\t\t\telement: menu,\n\t\t\t\tproperty: 'left',\n\t\t\t\topenSize: 0,\n\t\t\t\tcloseSize: -1 * menuWidth,\n\t\t\t\tspeed: speed || 250,\n\t\t\t\tprefunction: function( ) {\n\t\t\t\t\t// Set these value immediately for transitions\n\t\t\t\t\tif( state === 'opening' ) {\n\t\t\t\t\t\tmenu.style.display    = 'block';\n\t\t\t\t\t\toverlay.style.left    = 0;\n\t\t\t\t\t\toverlay.style.opacity = 0.5;\n\n\t\t\t\t\t\t// run when opening\n\t\t\t\t\t\tif( typeof callbacks.onOpen === 'function' ) {\n\t\t\t\t\t\t\tcallbacks.onOpen();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\toverlay.style.opacity = '0';\n\n\t\t\t\t\t\t// run when closing\n\t\t\t\t\t\tif( typeof callbacks.onClose === 'function' ) {\n\t\t\t\t\t\t\tcallbacks.onClose();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tpostfunction: function(){\n\t\t\t\t\tif ( state === 'opening' ){\n\n\t\t\t\t\t\t// Move the focus to the close button\n\t\t\t\t\t\tcloseButton.focus();\n\n\n\t\t\t\t\t\t// Focus trap enabled\n\t\t\t\t\t\tfocustrapTop.setAttribute( \"tabindex\", 0 );\n\t\t\t\t\t\tfocustrapBottom.setAttribute( \"tabindex\", 0 );\n\n\n\t\t\t\t\t\tfocustrapTop.addEventListener( 'focus', AUfocusTrapListenerTop );\n\t\t\t\t\t\tfocustrapBottom.addEventListener( 'focus', AUfocusTrapListenerBottom );\n\n\t\t\t\t\t\t// Add key listener\n\t\t\t\t\t\tdocument.addEventListener( 'keyup', AUkeyListener );\n\n\t\t\t\t\t\tif( typeof callbacks.afterOpen === 'function' ) {\n\t\t\t\t\t\t\tcallbacks.afterOpen();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t// Move the focus back to the menu button\n\t\t\t\t\t\topenButton.focus();\n\n\t\t\t\t\t\t// Remove the focus trap\n\t\t\t\t\t\tfocustrapTop.removeAttribute( \"tabindex\" );\n\t\t\t\t\t\tfocustrapBottom.removeAttribute( \"tabindex\" );\n\n\n\t\t\t\t\t\t// Remove the event listeners\n\t\t\t\t\t\tfocustrapTop.removeEventListener( 'focus', AUfocusTrapListenerTop );\n\t\t\t\t\t\tfocustrapBottom.removeEventListener( 'focus', AUfocusTrapListenerBottom );\n\n\n\t\t\t\t\t\t// Remove the event listener for the keypress\n\t\t\t\t\t\tdocument.removeEventListener( 'keyup', AUkeyListener );\n\n\t\t\t\t\t\tif( typeof callbacks.afterClose === 'function' ) {\n\t\t\t\t\t\t\tcallbacks.afterClose();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\n\t\t\t\t\t// Toggle classes\n\t\t\t\t\tToggleClasses( element, state );\n\t\t\t\t\tToggleClasses(\n\t\t\t\t\t\tdocument.body,\n\t\t\t\t\t\tstate,\n\t\t\t\t\t\t'au-main-nav__scroll--unlocked',\n\t\t\t\t\t\t'au-main-nav__scroll--locked',\n\t\t\t\t\t);\n\n\n\t\t\t\t\t// Reset inline styles\n\t\t\t\t\tmenu.style.display    = '';\n\t\t\t\t\tmenu.style.left       = '';\n\t\t\t\t\toverlay.style.display = '';\n\t\t\t\t\toverlay.style.left    = '';\n\t\t\t\t\toverlay.style.opacity = '';\n\n\n\t\t\t\t\t// Toggle the animating state to false so that we can allow toggling again\n\t\t\t\t\tToggleAnimationState();\n\t\t\t\t},\n\t\t\t});\n\t\t})( menu );\n\t}\n\n\n\trender(){\n\t\treturn (\n\t\t\t<div\n\t\t\t\tid={ this.id }\n\t\t\t\tclassName=\"au-main-nav__content\"\n\t\t\t\tref={ mainNavContent => { this.mainNavContent = mainNavContent }}>\n\t\t\t\t<button\n\t\t\t\t\taria-controls={ this.id }\n\t\t\t\t\tonClick={ ( event ) => this.toggle( event ) }\n\t\t\t\t\tclassName=\"au-main-nav__toggle au-main-nav__toggle--open\">\n\t\t\t\t\tMenu\n\t\t\t\t</button>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"au-main-nav__menu\"\n\t\t\t\t\tref={ mainNavMenu => { this.mainNavMenu = mainNavMenu }}\n\t\t\t\t\t>\n\t\t\t\t\t<div className=\"au-main-nav__menu-inner\">\n\t\t\t\t\t\t<div className=\"au-main-nav__focus-trap-top\"></div>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\taria-controls={ this.id }\n\t\t\t\t\t\t\tonClick={ ( event ) => this.toggle( event ) }\n\t\t\t\t\t\t\tclassName=\"au-main-nav__toggle au-main-nav__toggle--close\">\n\t\t\t\t\t\t\tClose\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<AUmainNavMenu\n\t\t\t\t\t\t\tlinkComponent={ this.props.linkComponent }\n\t\t\t\t\t\t\titems={ this.props.items }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{ this.props.children }\n\t\t\t\t\t\t<div className=\"au-main-nav__focus-trap-bottom\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\taria-controls={ this.id }\n\t\t\t\t\tref={ mainNavOverlay => { this.mainNavOverlay = mainNavOverlay }}\n\t\t\t\t\tonClick={ ( event ) => this.toggle( event ) }\n\t\t\t\t\tclassName=\"au-main-nav__overlay\"></div>\n\t\t\t</div>\n\t\t);\n\t}\n};\n\nAUmainNavContent.propTypes = {\n\tdark: PropTypes.bool,\n\talt: PropTypes.bool,\n\tchildren: PropTypes.node,\n\tspeed: PropTypes.number,\n\tonOpen: PropTypes.func,\n\tafterOpen: PropTypes.func,\n\tonClose: PropTypes.func,\n\tafterClose: PropTypes.func,\n\tclassName: PropTypes.string,\n};\n\n\nconst AUmainNav = ({ dark, alt, className, ariaLabel, children, ...attributeOptions }) => (\n\t<nav\n\t\tclassName={\n\t\t\t'au-main-nav ' +\n\t\t\t`${ dark ? ' au-main-nav--dark' : '' }` +\n\t\t\t`${ alt ? ' au-main-nav--alt' : '' }` +\n\t\t\t`${ className ? ' ' + className : '' }`\n\t\t}\n\t\taria-label = { ariaLabel }\n\t\t{ ...attributeOptions }\n\t>\n\t\t{ children }\n\t</nav>\n);\n\nAUmainNav.propTypes = {\n\tdark: PropTypes.bool,\n\talt: PropTypes.bool,\n\tariaLabel: PropTypes.string,\n\tchildren: PropTypes.node.isRequired,\n};\n\nAUmainNav.defaultProps = {\n\tariaLabel: 'main navigation',\n};\n\nexport default AUmainNav;\n"
  ]
}